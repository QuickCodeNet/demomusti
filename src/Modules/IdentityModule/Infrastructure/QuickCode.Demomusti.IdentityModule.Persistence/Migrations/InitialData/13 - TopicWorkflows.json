{
"TopicWorkflows": [
  {
    "KafkaEventsTopicName": "demomusti.auth.login_post",
    "WorkflowContent": "name: 'Order Processing Workflow'\r\nversion: '1.0.0'\r\ndescription: 'A workflow for processing customer orders'\r\n\r\nvariables:\r\n  retryCount:\r\n    type: 'int'\r\n    value: '3'\r\n  retryType:\r\n    type: 'string'\r\n    value: 'hello'\r\n\r\nsteps:\r\n  validateOrder:\r\n    url: '{{QuickcodeClients.QuickCodeModuleApi}}/api/quick-code-module/db-types'\r\n    method: 'POST'\r\n    headers:\r\n      X-Api-Key: '{{QuickcodeApiKeys.QuickCodeModuleApiKey}}'\r\n    body:\r\n      key: 'newOrder'\r\n      name: 'Shoe Order'\r\n      description: 'Black Nike Shoes'\r\n      iconUrl: 'black-shoe.png'\r\n    timeoutSeconds: 30\r\n    transitions:\r\n      - condition: 'validateOrder.statusCode == 200'\r\n        action: 'processPayment'\r\n      - condition: 'response.isValid == false'\r\n        action: 'processRollbackPayment'\r\n      - condition: 'default'\r\n        action: 'handleInvalidOrder'\r\n\r\n  processPayment:\r\n    url: '{{QuickcodeClients.QuickCodeModuleApi}}/api/quick-code-module/payment'\r\n    method: 'POST'\r\n    headers:\r\n      X-Api-Key: '{{QuickcodeApiKeys.QuickCodeModuleApiKey}}'\r\n    body:\r\n      paymentId: '123233'\r\n      paymentAmount: '12.33'\r\n    timeoutSeconds: 30\r\n    transitions:\r\n      - condition: 'processPayment.statusCode == 200'\r\n        action: 'completeOrder'\r\n\r\n  processRollbackPayment:\r\n    url: '{{QuickcodeClients.QuickCodeModuleApi}}/api/quick-code-module/payment-rollback'\r\n    method: 'POST'\r\n    headers:\r\n      X-Api-Key: '{{QuickcodeApiKeys.QuickCodeModuleApiKey}}'\r\n    body:\r\n      paymentId: '123233'\r\n    timeoutSeconds: 30\r\n    transitions:\r\n      - condition: 'processRollbackPayment.statusCode == 200'\r\n        action: 'completeOrder'\r\n      - condition: 'processRollbackPayment.statusCode == 404'\r\n        action: 'processPayment'\r\n\r\n  completeOrder:\r\n    url: '{{QuickcodeClients.QuickCodeModuleApi}}/api/quick-code-module/payment-complete'\r\n    method: 'POST'\r\n    headers:\r\n      X-Api-Key: '{{QuickcodeApiKeys.QuickCodeModuleApiKey}}'\r\n    body:\r\n      paymentId: '123233'\r\n      orderId: '1123323'\r\n    timeoutSeconds: 30\r\n    transitions:\r\n      - condition: 'completeOrder.statusCode == 200'\r\n        action: 'success'\r\n\r\n  handleInvalidOrder:\r\n    url: '{{QuickcodeClients.QuickCodeModuleApi}}/api/quick-code-module/payment'\r\n    method: 'POST'\r\n    headers:\r\n      X-Api-Key: '{{QuickcodeApiKeys.QuickCodeModuleApiKey}}'\r\n    body:\r\n      paymentId: '123233'\r\n      orderId: '1123323'\r\n    timeoutSeconds: 30\r\n    transitions:\r\n      - condition: 'handleInvalidOrder.statusCode == 200'\r\n        action: 'success'"
  }
]
}